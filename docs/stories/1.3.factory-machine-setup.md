# Story 1.3: Factory & Machine Setup

## Status

Draft

## Story

**As a** factory supervisor,
**I want** to manage factories and machines,
**so that** I can track production locations and equipment.

## Acceptance Criteria

1. Factory schema with name, type (own/jobwork), location, isActive
2. Machine schema with factoryId, name, number, currentBeamId
3. GET `/factories` returns all factories
4. POST `/factories` creates factory
5. GET `/factories/:id/machines` returns machines at factory
6. POST `/factories/:id/machines` adds machine to factory
7. PUT/DELETE endpoints for both entities

## Tasks / Subtasks

- [ ] Create Factory schema
- [ ] Create Machine schema with factory reference
- [ ] Create Factory service and controller
- [ ] Create Machine service and controller
- [ ] Write unit tests

## Dev Notes

### Schemas

```typescript
// Factory
{ name, type: 'own'|'jobwork', location, isActive }

// Machine
{ factoryId, name, number, currentBeamId, isActive }
```

## Testing

- Test factory CRUD
- Test machine CRUD
- Test machines filtered by factory

## Change Log

| Date       | Version | Description            | Author    |
| ---------- | ------- | ---------------------- | --------- |
| 2026-01-09 | 1.0     | Initial story creation | Architect |

## Dev Agent Record

### Agent Model Used

_To be filled by Dev Agent_

### Debug Log References

_To be filled by Dev Agent_

### Completion Notes List

_To be filled by Dev Agent_

### File List

_To be filled by Dev Agent_

## QA Results

_To be filled by QA Agent_
